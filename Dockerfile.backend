echo FROM gradle:8.8-jdk17 AS builder > Dockerfile.backend
echo WORKDIR /app >> Dockerfile.backend
echo COPY . . >> Dockerfile.backend
echo RUN ./gradlew :site:jvmJar --no-daemon >> Dockerfile.backend
echo. >> Dockerfile.backend
echo FROM eclipse-temurin:17-jre-jammy >> Dockerfile.backend
echo WORKDIR /app >> Dockerfile.backend
echo COPY --from=builder /app/site/build/libs/catalystpage.com.jar app.jar >> Dockerfile.backend
echo EXPOSE 8080 >> Dockerfile.backend
echo CMD ["java", "-jar", "app.jar"] >> Dockerfile.backend