FROM node:20-alpine

# Install a simple static server
RUN npm install -g serve

# Copy your built site
COPY site/.kobweb/site/ /app
WORKDIR /app

# Serve on the port provided by Cloud Run
CMD ["serve", "-s", ".", "-l", "tcp://0.0.0.0:8080"]